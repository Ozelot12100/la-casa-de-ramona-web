---
import { Star, Quote } from "lucide-react";

interface Props {
    lang?: "en" | "es";
}

const { lang = "en" } = Astro.props;

// Textos de la Interfaz
const t = {
    en: {
        title: "Guest Favorite",
        subtitle:
            "Rated 4.99/5 stars on Airbnb based on 100+ reviews. Here is what our guests are saying.",
        link: "Read all 100+ reviews on Airbnb →",
    },
    es: {
        title: "Favorito de los Huéspedes",
        subtitle:
            "Calificación de 4.99/5 estrellas en Airbnb con +100 reseñas. Esto dicen quienes nos visitan.",
        link: "Leer las +100 reseñas en Airbnb →",
    },
};
const text = t[lang];

// Nota: Las reseñas individuales se quedan fijas por ser testimonios.
const reviews = [
    {
        name: "Verenice",
        location: "Phoenix, Arizona",
        date: "octubre de 2023",
        text: "Pictures don’t do Justice on the home, the home is beautiful and very clean. When we got there the AC was up and running in the living room so it was great to walk in to a fresh home. The host left some delicious pastries for us that we had to go to that bakery for breakfast the next day. There was a coffee make and coffee with cream and sugar so that was a bonus. Area felt safe, I did not close the gate correctly and the door opened and we had left out speaker and valuable things outside and everything was there when we got back. I would definitely rent this home again if we are visiting with a big family.",
        rating: 5,
    },
    {
        name: "Oscar",
        location: "Tijuana, México",
        date: "octubre de 2024",
        text: "I booked this place for my family and we enjoyed so much this place. Huge patio, pool was amazing. AC system in 4 rooms and kitchen too. I can't complain at all being honest. Administrator was very helpful when needed.",
        rating: 5,
    },
    {
        name: "Tanya",
        location: "Maricopa, Arizona",
        date: "septiembre de 2022",
        text: "10000% recommend this home! Alberto (our host) was very accommodating. As soon as we came in & noticed they had left some things for us in the kitchen we realized how much thought & effort they put into their guests stay. Just that extra touch won us over immediately. The rooms were very clean, the wifi worked great, the pool was clean, overall a great experience. I definitely look forward to booking them next time I go to Rocky point!",
        rating: 5,
    },
];
---

<section id="reviews" class="py-24 bg-blue-900 relative overflow-hidden">
    <div
        class="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"
    >
    </div>

    <div class="max-w-7xl mx-auto px-6 relative z-10">
        <div class="text-center mb-16">
            <div class="flex items-center justify-center gap-2 mb-4">
                {
                    [...Array(5)].map(() => (
                        <Star color="#facc15" fill="#facc15" size={32} />
                    ))
                }
            </div>
            <h2 class="text-4xl font-bold text-white mb-4">{text.title}</h2>
            <p class="text-blue-200 text-lg max-w-2xl mx-auto">
                {text.subtitle}
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {
                reviews.map((review) => (
                    <div class="bg-white p-8 rounded-2xl shadow-xl relative transform hover:-translate-y-2 transition duration-300">
                        <Quote
                            class="absolute top-6 right-6 text-blue-100"
                            size={48}
                        />
                        <div class="flex items-center gap-1 mb-4 text-yellow-500">
                            {[...Array(review.rating)].map(() => (
                                <Star size={18} fill="currentColor" />
                            ))}
                        </div>
                        <p class="text-slate-600 mb-6 italic leading-relaxed">
                            "{review.text}"
                        </p>
                        <div class="flex items-center gap-4 mt-auto border-t border-slate-100 pt-4">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold">
                                {review.name.charAt(0)}
                            </div>
                            <div>
                                <div class="font-bold text-slate-900 text-sm">
                                    {review.name}
                                </div>
                                <div class="text-slate-400 text-xs">
                                    {review.location} • {review.date}
                                </div>
                            </div>
                        </div>
                    </div>
                ))
            }
        </div>

        <div class="text-center mt-12">
            <a
                href="https://www.airbnb.mx/rooms/42641671/reviews?source_impression_id=p3_1766601702_P3YS8Kl5Xu5pFcgG"
                target="_blank"
                class="inline-flex items-center gap-2 text-white border-b border-white/30 pb-1 hover:text-yellow-400 hover:border-yellow-400 transition"
            >
                {text.link}
            </a>
        </div>
    </div>
</section>
